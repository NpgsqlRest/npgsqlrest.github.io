import{_ as a,c as e,o as n,a5 as i}from"./chunks/framework.CgT1UzWm.js";const b=JSON.parse('{"title":"ENABLED Annotation","titleTemplate":"NpgsqlRest","description":"Enable PostgreSQL REST API endpoints globally or conditionally by tags. Create whitelist patterns for secure API exposure.","frontmatter":{"outline":[2,3],"title":"ENABLED Annotation","titleTemplate":"NpgsqlRest","description":"Enable PostgreSQL REST API endpoints globally or conditionally by tags. Create whitelist patterns for secure API exposure.","head":[["meta",{"name":"keywords","content":"npgsqlrest enabled, enable endpoint, whitelist pattern, conditional enable, api whitelist"}],["meta",{"property":"og:title","content":"NpgsqlRest ENABLED Annotation"}],["meta",{"property":"og:description","content":"Enable REST API endpoints globally or by tags. Create whitelist patterns for secure exposure."}],["meta",{"property":"og:type","content":"article"}]]},"headers":[],"relativePath":"annotations/enabled.md","filePath":"annotations/enabled.md"}'),l={name:"annotations/enabled.md"};function t(p,s,r,o,d,h){return n(),e("div",null,s[0]||(s[0]=[i(`<h1 id="enabled" tabindex="-1">ENABLED <a class="header-anchor" href="#enabled" aria-label="Permalink to &quot;ENABLED&quot;">​</a></h1><p>Enable endpoint globally or conditionally based on tags.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>By default, endpoints are enabled. This annotation is used to:</p><ul><li>Explicitly enable an endpoint that was previously disabled</li><li>Conditionally enable an endpoint only when it has specific tags</li><li>Create a &quot;whitelist&quot; pattern: disable everything, then enable only what you need</li></ul><p>Tags are automatically assigned based on routine source (function volatility, CRUD operation type). See <a href="./tags.html">TAGS</a> for the complete list of automatic tags.</p><p>This annotation is particularly useful with <a href="./../config/crud.html">automatic CRUD endpoint generation</a> to selectively re-enable operations after using <code>disabled</code>.</p><h2 id="keywords" tabindex="-1">Keywords <a class="header-anchor" href="#keywords" aria-label="Permalink to &quot;Keywords&quot;">​</a></h2><p><code>@enabled</code>, <code>enabled</code></p><h2 id="syntax" tabindex="-1">Syntax <a class="header-anchor" href="#syntax" aria-label="Permalink to &quot;Syntax&quot;">​</a></h2><details class="code-collapsible" open><summary>code</summary><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>@enabled</span></span>
<span class="line"><span>@enabled &lt;tag1&gt;, &lt;tag2&gt;, &lt;tag3&gt;, ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></details><p>Space-separated lists are also valid: <code>@enabled select update delete</code></p><ul><li>Without tags: Enables the endpoint unconditionally</li><li>With tags: Enables the endpoint only when it has at least one of the specified tags</li></ul><h2 id="the-whitelist-pattern" tabindex="-1">The Whitelist Pattern <a class="header-anchor" href="#the-whitelist-pattern" aria-label="Permalink to &quot;The Whitelist Pattern&quot;">​</a></h2><p>The most common use of <code>enabled</code> is the <strong>whitelist pattern</strong> - disable everything first, then explicitly enable only the operations you want:</p><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table contacts is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled                        -- Disable all CRUD endpoints</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select, insert_returning, update, delete</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details><p>This is clearer and safer than trying to disable individual operations you don&#39;t want.</p><h3 id="why-use-whitelist" tabindex="-1">Why Use Whitelist? <a class="header-anchor" href="#why-use-whitelist" aria-label="Permalink to &quot;Why Use Whitelist?&quot;">​</a></h3><ol><li><strong>Explicit is better than implicit</strong> - You know exactly what&#39;s exposed</li><li><strong>Safer defaults</strong> - New CRUD types added in future won&#39;t be auto-enabled</li><li><strong>Cleaner API surface</strong> - Only expose what clients actually need</li><li><strong>Easier auditing</strong> - Security reviewers see exactly what&#39;s enabled</li></ol><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><h3 id="enable-globally" tabindex="-1">Enable Globally <a class="header-anchor" href="#enable-globally" aria-label="Permalink to &quot;Enable Globally&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function my_func() is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><h3 id="enable-only-for-immutable-functions" tabindex="-1">Enable Only for Immutable Functions <a class="header-anchor" href="#enable-only-for-immutable-functions" aria-label="Permalink to &quot;Enable Only for Immutable Functions&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Enable endpoint only when the function is immutable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function calculate_total(_items json) is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled immutable&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details><h3 id="enable-for-specific-crud-operations" tabindex="-1">Enable for Specific CRUD Operations <a class="header-anchor" href="#enable-for-specific-crud-operations" aria-label="Permalink to &quot;Enable for Specific CRUD Operations&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- On a table, only enable read operations</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table audit_log is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@enabled select, read, get&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><p>This enables the SELECT endpoint but not INSERT, UPDATE, or DELETE.</p><h3 id="enable-for-beta-features" tabindex="-1">Enable for Beta Features <a class="header-anchor" href="#enable-for-beta-features" aria-label="Permalink to &quot;Enable for Beta Features&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function beta_feature() is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled beta, testing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><p>Endpoint is only available when the routine has <code>beta</code> or <code>testing</code> tags.</p><h3 id="combine-with-other-annotations" tabindex="-1">Combine with Other Annotations <a class="header-anchor" href="#combine-with-other-annotations" aria-label="Permalink to &quot;Combine with Other Annotations&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function stable_api() is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled stable, immutable</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@cached&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></details><p>First disables the endpoint globally, then re-enables it only for stable and immutable functions.</p><h2 id="crud-endpoint-control" tabindex="-1">CRUD Endpoint Control <a class="header-anchor" href="#crud-endpoint-control" aria-label="Permalink to &quot;CRUD Endpoint Control&quot;">​</a></h2><p>When using CRUD source with <code>&quot;CommentsMode&quot;: &quot;ParseAll&quot;</code>, combine <code>disabled</code> and <code>enabled</code> to precisely control which CRUD operations are exposed.</p><h3 id="enable-only-select-and-delete" tabindex="-1">Enable Only SELECT and DELETE <a class="header-anchor" href="#enable-only-select-and-delete" aria-label="Permalink to &quot;Enable Only SELECT and DELETE&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> crud_select_only</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> primary key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> text</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table crud_select_only is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select, delete</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></details><p>Results:</p><ul><li><code>GET /api/crud-select-only/</code> → 200 OK (SELECT enabled)</li><li><code>DELETE /api/crud-select-only/</code> → 204 No Content (DELETE enabled)</li><li><code>POST /api/crud-select-only/</code> → 405 Method Not Allowed (UPDATE disabled)</li><li><code>PUT /api/crud-select-only/</code> → 405 Method Not Allowed (INSERT disabled)</li></ul><h3 id="enable-only-on-conflict-operations" tabindex="-1">Enable Only ON CONFLICT Operations <a class="header-anchor" href="#enable-only-on-conflict-operations" aria-label="Permalink to &quot;Enable Only ON CONFLICT Operations&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> crud_on_conflict_only</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> primary key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> text</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table crud_on_conflict_only is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HTTP</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@for on_conflict</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></details><p>This disables all standard CRUD operations but enables only upsert endpoints:</p><ul><li><code>PUT /api/crud-on-conflict-only/on-conflict-do-nothing/</code> → 204 No Content</li><li><code>PUT /api/crud-on-conflict-only/on-conflict-do-update/</code> → 204 No Content</li><li>All other endpoints → 404 Not Found</li></ul><h2 id="real-world-use-cases" tabindex="-1">Real-World Use Cases <a class="header-anchor" href="#real-world-use-cases" aria-label="Permalink to &quot;Real-World Use Cases&quot;">​</a></h2><h3 id="contacts-manager-api" tabindex="-1">Contacts Manager API <a class="header-anchor" href="#contacts-manager-api" aria-label="Permalink to &quot;Contacts Manager API&quot;">​</a></h3><p>A typical CRUD app needs select, insert (with returning for the new ID), update, and delete:</p><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table contacts is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select, insert_returning, update, delete</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details><p>This creates exactly 4 endpoints:</p><ul><li><code>GET /api/contacts/</code> - List/filter contacts</li><li><code>PUT /api/contacts/returning/</code> - Create contact, returns created record</li><li><code>POST /api/contacts/</code> - Update contact</li><li><code>DELETE /api/contacts/</code> - Delete contact</li></ul><h3 id="public-read-authenticated-write" tabindex="-1">Public Read, Authenticated Write <a class="header-anchor" href="#public-read-authenticated-write" aria-label="Permalink to &quot;Public Read, Authenticated Write&quot;">​</a></h3><p>Allow anyone to read, but require authentication for modifications:</p><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table products is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">for insert update delete</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@authorize</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></details><h3 id="soft-delete-pattern" tabindex="-1">Soft-Delete Pattern <a class="header-anchor" href="#soft-delete-pattern" aria-label="Permalink to &quot;Soft-Delete Pattern&quot;">​</a></h3><p>Only allow select, insert, and update - no hard deletes:</p><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table documents is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select, insert_returning, update</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details><p>Documents are &quot;deleted&quot; by setting a <code>deleted_at</code> timestamp via update.</p><h3 id="event-sourcing-append-only" tabindex="-1">Event Sourcing / Append-Only <a class="header-anchor" href="#event-sourcing-append-only" aria-label="Permalink to &quot;Event Sourcing / Append-Only&quot;">​</a></h3><p>Only select and insert - no updates or deletes:</p><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table events is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select, insert_returning</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details><h3 id="lookup-tables-read-only" tabindex="-1">Lookup Tables (Read-Only) <a class="header-anchor" href="#lookup-tables-read-only" aria-label="Permalink to &quot;Lookup Tables (Read-Only)&quot;">​</a></h3><p>Reference data that should never change via API:</p><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on table countries is </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@disabled</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@enabled select</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details><h2 id="behavior" tabindex="-1">Behavior <a class="header-anchor" href="#behavior" aria-label="Permalink to &quot;Behavior&quot;">​</a></h2><ul><li>When used without tags, unconditionally enables the endpoint</li><li>When used with tags, enables only if the endpoint has at least one matching tag</li><li>Multiple <code>enabled</code> annotations can be used in the same comment</li><li>Tags include automatic tags from routine source (volatility, CRUD type) and custom tags</li><li>Case-insensitive tag matching</li><li>Comma-separated tags work the same as space-separated: <code>enabled select, update</code> equals <code>enabled select update</code></li></ul><h2 id="related" tabindex="-1">Related <a class="header-anchor" href="#related" aria-label="Permalink to &quot;Related&quot;">​</a></h2><ul><li><a href="./../config/crud.html">CRUD Source configuration</a> - Configure automatic CRUD endpoint generation</li><li><a href="./../guide/annotations.html">Comment Annotations Guide</a> - How annotations work</li><li><a href="./../guide/configuration.html">Configuration Guide</a> - How configuration works</li></ul><h2 id="related-annotations" tabindex="-1">Related Annotations <a class="header-anchor" href="#related-annotations" aria-label="Permalink to &quot;Related Annotations&quot;">​</a></h2><ul><li><a href="./disabled.html">DISABLED</a> - Disable endpoint globally or by tags</li><li><a href="./tags.html">TAGS</a> - Automatic tags and conditional annotation application</li></ul>`,68)]))}const u=a(l,[["render",t]]);export{b as __pageData,u as default};
