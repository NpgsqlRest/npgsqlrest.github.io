import{_ as a,c as n,o as s,a5 as i}from"./chunks/framework.CgT1UzWm.js";const u=JSON.parse('{"title":"CONNECTION Annotation","titleTemplate":"NpgsqlRest","description":"Route PostgreSQL REST API endpoints to specific database connections. Use different databases per endpoint.","frontmatter":{"outline":[2,3],"title":"CONNECTION Annotation","titleTemplate":"NpgsqlRest","description":"Route PostgreSQL REST API endpoints to specific database connections. Use different databases per endpoint.","head":[["meta",{"name":"keywords","content":"npgsqlrest connection, named connection, multiple databases, database routing, connection per endpoint"}],["meta",{"property":"og:title","content":"NpgsqlRest CONNECTION Annotation"}],["meta",{"property":"og:description","content":"Route endpoints to specific database connections for multi-database setups."}],["meta",{"property":"og:type","content":"article"}]]},"headers":[],"relativePath":"annotations/connection.md","filePath":"annotations/connection.md"}'),t={name:"annotations/connection.md"};function o(l,e,r,c,p,d){return s(),n("div",null,e[0]||(e[0]=[i(`<h1 id="connection" tabindex="-1">CONNECTION <a class="header-anchor" href="#connection" aria-label="Permalink to &quot;CONNECTION&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">Also known as</p><p><code>connection_name</code> (with or without <code>@</code> prefix)</p></div><p>Specify a named database connection for the endpoint.</p><h2 id="syntax" tabindex="-1">Syntax <a class="header-anchor" href="#syntax" aria-label="Permalink to &quot;Syntax&quot;">​</a></h2><details class="code-collapsible" open><summary>code</summary><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>@connection &lt;connection-name&gt;</span></span>
<span class="line"><span>@connection_name &lt;connection-name&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></details><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><h3 id="use-named-connection" tabindex="-1">Use Named Connection <a class="header-anchor" href="#use-named-connection" aria-label="Permalink to &quot;Use Named Connection&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function get_analytics() is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@connection analytics_db&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><h3 id="reporting-database" tabindex="-1">Reporting Database <a class="header-anchor" href="#reporting-database" aria-label="Permalink to &quot;Reporting Database&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function generate_report() is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@connection_name reporting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><h3 id="read-replica" tabindex="-1">Read Replica <a class="header-anchor" href="#read-replica" aria-label="Permalink to &quot;Read Replica&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function read_heavy_query() is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@connection read_replica&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><h2 id="behavior" tabindex="-1">Behavior <a class="header-anchor" href="#behavior" aria-label="Permalink to &quot;Behavior&quot;">​</a></h2><ul><li>References a connection string defined in <code>ConnectionStrings</code> configuration</li><li>Allows different endpoints to use different databases</li><li>Requires <code>UseMultipleConnections: true</code> in NpgsqlRest options</li><li>See <a href="./../config/connection.html">Connection Settings</a> configuration</li></ul><h2 id="related" tabindex="-1">Related <a class="header-anchor" href="#related" aria-label="Permalink to &quot;Related&quot;">​</a></h2><ul><li><a href="./../config/connection.html">Connection configuration</a> - Configure database connections</li><li><a href="./../config/npgsqlrest.html">NpgsqlRest Options configuration</a> - Enable multiple connections</li><li><a href="./../guide/annotations.html">Comment Annotations Guide</a> - How annotations work</li><li><a href="./../guide/configuration.html">Configuration Guide</a> - How configuration works</li></ul><h2 id="related-annotations" tabindex="-1">Related Annotations <a class="header-anchor" href="#related-annotations" aria-label="Permalink to &quot;Related Annotations&quot;">​</a></h2><ul><li><a href="./command-timeout.html">COMMAND_TIMEOUT</a> - Set query timeout</li></ul>`,18)]))}const m=a(t,[["render",o]]);export{u as __pageData,m as default};
