import{_ as e,c as n,o as a,a5 as t}from"./chunks/framework.CgT1UzWm.js";const c=JSON.parse('{"title":"RESPONSE_NULL_HANDLING Annotation","titleTemplate":"NpgsqlRest","description":"Control how NULL results are returned in PostgreSQL REST API responses. Configure JSON null handling and empty responses.","frontmatter":{"outline":[2,3],"title":"RESPONSE_NULL_HANDLING Annotation","titleTemplate":"NpgsqlRest","description":"Control how NULL results are returned in PostgreSQL REST API responses. Configure JSON null handling and empty responses.","head":[["meta",{"name":"keywords","content":"npgsqlrest response null, null json response, empty response handling, postgresql null output, api null response"}],["meta",{"property":"og:title","content":"NpgsqlRest RESPONSE_NULL_HANDLING Annotation"}],["meta",{"property":"og:description","content":"Control how NULL results are returned in API responses."}],["meta",{"property":"og:type","content":"article"}]]},"headers":[],"relativePath":"annotations/response-null-handling.md","filePath":"annotations/response-null-handling.md"}'),l={name:"annotations/response-null-handling.md"};function i(o,s,r,p,d,u){return a(),n("div",null,s[0]||(s[0]=[t(`<h1 id="response-null-handling" tabindex="-1">RESPONSE_NULL_HANDLING <a class="header-anchor" href="#response-null-handling" aria-label="Permalink to &quot;RESPONSE_NULL_HANDLING&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">Also known as</p><p><code>response_null</code>, <code>text_response_null_handling</code> (with or without <code>@</code> prefix)</p></div><p>Control how NULL results are returned in plain text responses when the execution returns NULL from the database.</p><h2 id="syntax" tabindex="-1">Syntax <a class="header-anchor" href="#syntax" aria-label="Permalink to &quot;Syntax&quot;">​</a></h2><details class="code-collapsible" open><summary>code</summary><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>@response_null &lt;mode&gt;</span></span>
<span class="line"><span>@response_null_handling &lt;mode&gt;</span></span>
<span class="line"><span>@text_response_null_handling &lt;mode&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><h2 id="values" tabindex="-1">Values <a class="header-anchor" href="#values" aria-label="Permalink to &quot;Values&quot;">​</a></h2><div class="table-container"><div class="table-wrapper"><table tabindex="0"><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code>empty_string</code></td><td>Returns an empty string response with status code 200 OK (default)</td></tr><tr><td><code>null_literal</code></td><td>Returns a string literal &quot;NULL&quot; with status code 200 OK</td></tr><tr><td><code>no_content</code> or <code>204_no_content</code></td><td>Returns status code 204 NO CONTENT</td></tr></tbody></table></div></div><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><h3 id="return-empty-string-for-null" tabindex="-1">Return Empty String for NULL <a class="header-anchor" href="#return-empty-string-for-null" aria-label="Permalink to &quot;Return Empty String for NULL&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function get_value(_id int) is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@response_null empty_string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><p>If result is NULL → Response body: <code>&quot;&quot;</code></p><h3 id="return-204-for-null" tabindex="-1">Return 204 for NULL <a class="header-anchor" href="#return-204-for-null" aria-label="Permalink to &quot;Return 204 for NULL&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function find_record(_id int) is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@response_null 204_no_content&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><p>If result is NULL → HTTP 204 with no body</p><h3 id="return-json-null" tabindex="-1">Return JSON null <a class="header-anchor" href="#return-json-null" aria-label="Permalink to &quot;Return JSON null&quot;">​</a></h3><details class="code-collapsible" open><summary>sql</summary><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">comment on function get_optional(_key text) is</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTTP GET</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@response_null null_literal&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><p>If result is NULL → Response body: <code>null</code></p><h2 id="configuration-default" tabindex="-1">Configuration Default <a class="header-anchor" href="#configuration-default" aria-label="Permalink to &quot;Configuration Default&quot;">​</a></h2><p>You can set the default behavior for all endpoints in <code>appsettings.json</code>:</p><details class="code-collapsible" open><summary>json</summary><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;NpgsqlRest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;TextResponseNullHandling&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NoContent&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></details><p>Available values: <code>EmptyString</code> (default), <code>NullLiteral</code>, <code>NoContent</code>.</p><p>This sets the default for all endpoints, which can then be overridden per-endpoint using comment annotations.</p><h2 id="related" tabindex="-1">Related <a class="header-anchor" href="#related" aria-label="Permalink to &quot;Related&quot;">​</a></h2><ul><li><a href="./../config/npgsqlrest.html">NpgsqlRest Options configuration</a> - Configure default null handling</li><li><a href="./../guide/annotations.html">Comment Annotations Guide</a> - How annotations work</li><li><a href="./../guide/configuration.html">Configuration Guide</a> - How configuration works</li></ul><h2 id="related-annotations" tabindex="-1">Related Annotations <a class="header-anchor" href="#related-annotations" aria-label="Permalink to &quot;Related Annotations&quot;">​</a></h2><ul><li><a href="./query-string-null-handling.html">QUERY_STRING_NULL_HANDLING</a> - NULL in query strings</li></ul>`,26)]))}const m=e(l,[["render",i]]);export{c as __pageData,m as default};
